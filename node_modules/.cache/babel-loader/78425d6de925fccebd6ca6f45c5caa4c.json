{"ast":null,"code":"import _slicedToArray from\"/Users/kassim.assani/playground/extra-custom-demo2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/kassim.assani/playground/extra-custom-demo2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect,useState,useContext}from'react';import Select from'react-select';// Import third party packages\nimport algoliasearch from'algoliasearch/lite';import{InstantSearch,HitsPerPage,Index,connectHits,Pagination,RefinementList,ClearRefinements}from'react-instantsearch-dom';import{Link}from'react-router-dom';import{Context as DemoSettingsContext}from'../../context/appActions';// Import Cusyoms\nimport{VirtualSearchBox,CustomProductsHits,CustomHierarchicalMenu,CustomProductResultsHits,CustomCategoriesHits,CustomSearchBox,CustomHighlight,CustomRangeSlider}from'../Searchpage/Hits';// Import icons\nimport{IconArmani}from'../../assets/icons';var searchClient=algoliasearch('JDBD6EJM33','0fe54b2e3991d370c91376981aff9d48');var HierarchicalResHits=function HierarchicalResHits(_ref){var hits=_ref.hits;if(hits.length>0){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"ma2-pro-list\",children:hits.map(function(hit){return/*#__PURE__*/_jsx(\"div\",{className:\"am3-card\",onClick:function onClick(e){return localStorage.setItem('item',JSON.stringify(hit));},children:/*#__PURE__*/_jsxs(Link,{to:\"/product-details\",style:{textDecoration:'none'},children:[/*#__PURE__*/_jsx(\"img\",{src:hit.image_link}),/*#__PURE__*/_jsx(\"span\",{className:\"card-ttl3\",children:/*#__PURE__*/_jsx(CustomHighlight,{hit:hit,attribute:\"title\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-price3\",children:[\"\\u20AC \",hit.price]})]})});})})});}else{return null;}};var CustomHierarchicalResultsHits=connectHits(HierarchicalResHits);var options=[{value:'Mike',label:'Mike'},{value:'Nina',label:'Nina'},{value:'',label:'None'}];var customStyles={menu:function menu(provided,state){return _objectSpread(_objectSpread({},provided),{},{width:state.selectProps.width,borderBottom:'1px dotted pink',color:state.selectProps.menuColor,padding:20,textAlign:'center'});},control:function control(_,_ref2){var width=_ref2.selectProps.width;return{width:width};},singleValue:function singleValue(provided,state){var opacity=state.isDisabled?0.5:1;var transition='opacity 400ms';return _objectSpread(_objectSpread({},provided),{},{opacity:opacity,transition:transition});}};var Header=function Header(_ref3){var userToken=_ref3.userToken,setUserToken=_ref3.setUserToken,setShowCat=_ref3.setShowCat,showCat=_ref3.showCat,setIsSearchVisible=_ref3.setIsSearchVisible,isSearchVisible=_ref3.isSearchVisible;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedOption=_useState2[0],setSelectedOption=_useState2[1];var switchPersoToken=function switchPersoToken(selectedOption){setSelectedOption(selectedOption);setUserToken(selectedOption.value);};var _useContext=useContext(DemoSettingsContext),state=_useContext.state;useEffect(function(){if(state.queryPersona!==''){var tmp={value:state.queryPersona,label:state.queryPersona};// setUserToken(state.queryPersona);\nswitchPersoToken(tmp);}},[state.queryPersona]);if(isSearchVisible)setShowCat(false);return/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsxs(InstantSearch,{indexName:\"eXtra\",searchClient:searchClient,children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-logo\",children:/*#__PURE__*/_jsx(IconArmani,{})}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},className:\"header-cats\",children:[/*#__PURE__*/_jsx(CustomHierarchicalMenu,{attributes:['categorylvl1'],setShowCat:setShowCat}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(e){return setIsSearchVisible(!isSearchVisible);},className:\"header-search-icon\",children:/*#__PURE__*/_jsx(\"span\",{className:\"searchIcon\"})}),/*#__PURE__*/_jsx(Select,{options:options,value:selectedOption,onChange:switchPersoToken,styles:customStyles,width:\"250px\"})]}),showCat?/*#__PURE__*/ //     <Index\n//     indexName=\"eXtra\"\n//     indexId=\"products\"\n//   >\n//     <HitsPerPage defaultRefinement={24} items={[]} />\n//     <CustomHierarchicalResultsHits\n//     />\n// </Index>\n_jsxs(\"div\",{className:\"search-results\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-facets\",style:{backgroundColor:'rgb(241,241,241)'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"header-item\",children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"h3\",{style:{color:'black'},children:\"CATEGORY PAGE\"})})})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-container\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-results\",children:[/*#__PURE__*/_jsxs(Index,{indexName:\"eXtra\",indexId:\"products\",children:[/*#__PURE__*/_jsx(HitsPerPage,{defaultRefinement:18,items:[]}),/*#__PURE__*/_jsx(CustomProductsHits,{})]}),/*#__PURE__*/_jsx(Pagination,{id:\"pagination\"})]})]}):null]})});};export default Header;","map":{"version":3,"sources":["/Users/kassim.assani/playground/extra-custom-demo2/src/components/Header/Header.jsx"],"names":["React","useEffect","useState","useContext","Select","algoliasearch","InstantSearch","HitsPerPage","Index","connectHits","Pagination","RefinementList","ClearRefinements","Link","Context","DemoSettingsContext","VirtualSearchBox","CustomProductsHits","CustomHierarchicalMenu","CustomProductResultsHits","CustomCategoriesHits","CustomSearchBox","CustomHighlight","CustomRangeSlider","IconArmani","searchClient","HierarchicalResHits","hits","length","map","hit","e","localStorage","setItem","JSON","stringify","textDecoration","image_link","price","CustomHierarchicalResultsHits","options","value","label","customStyles","menu","provided","state","width","selectProps","borderBottom","color","menuColor","padding","textAlign","control","_","singleValue","opacity","isDisabled","transition","Header","userToken","setUserToken","setShowCat","showCat","setIsSearchVisible","isSearchVisible","selectedOption","setSelectedOption","switchPersoToken","queryPersona","tmp","position","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\n\nimport Select from 'react-select';\n\n// Import third party packages\nimport algoliasearch from 'algoliasearch/lite';\n\nimport {\n  InstantSearch,\n  HitsPerPage,\n  Index,\n  connectHits,\n  Pagination,\n  RefinementList,\n  ClearRefinements,\n} from 'react-instantsearch-dom';\n\nimport { Link } from 'react-router-dom';\nimport { Context as DemoSettingsContext } from '../../context/appActions';\n\n// Import Cusyoms\nimport {\n  VirtualSearchBox,\n  CustomProductsHits,\n  CustomHierarchicalMenu,\n  CustomProductResultsHits,\n  CustomCategoriesHits,\n  CustomSearchBox,\n  CustomHighlight,\n  CustomRangeSlider,\n} from '../Searchpage/Hits';\n\n// Import icons\nimport { IconArmani } from '../../assets/icons';\n\nconst searchClient = algoliasearch(\n  'JDBD6EJM33',\n  '0fe54b2e3991d370c91376981aff9d48',\n);\n\nconst HierarchicalResHits = ({ hits }) => {\n  if (hits.length > 0) {\n    return (\n      <div>\n        <div className='ma2-pro-list'>\n          {hits.map((hit) => (\n            <div\n              className='am3-card'\n              onClick={(e) => localStorage.setItem('item', JSON.stringify(hit))}\n            >\n              <Link to='/product-details' style={{ textDecoration: 'none' }}>\n                <img src={hit.image_link} />\n                <span className='card-ttl3'>\n                  {<CustomHighlight hit={hit} attribute='title' />}\n                </span>\n                <p className='card-price3'>€ {hit.price}</p>\n              </Link>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  } else {\n    return null;\n  }\n};\n\nconst CustomHierarchicalResultsHits = connectHits(HierarchicalResHits);\n\nconst options = [\n  { value: 'Mike', label: 'Mike' },\n  { value: 'Nina', label: 'Nina' },\n  { value: '', label: 'None' },\n];\n\nconst customStyles = {\n  menu: (provided, state) => ({\n    ...provided,\n    width: state.selectProps.width,\n    borderBottom: '1px dotted pink',\n    color: state.selectProps.menuColor,\n    padding: 20,\n    textAlign: 'center',\n  }),\n\n  control: (_, { selectProps: { width } }) => ({\n    width: width,\n  }),\n\n  singleValue: (provided, state) => {\n    const opacity = state.isDisabled ? 0.5 : 1;\n    const transition = 'opacity 400ms';\n\n    return { ...provided, opacity, transition };\n  },\n};\n\nconst Header = ({\n  userToken,\n  setUserToken,\n  setShowCat,\n  showCat,\n  setIsSearchVisible,\n  isSearchVisible,\n}) => {\n  const [selectedOption, setSelectedOption] = useState(null);\n\n  const switchPersoToken = (selectedOption) => {\n    setSelectedOption(selectedOption);\n    setUserToken(selectedOption.value);\n  };\n\n  const { state } = useContext(DemoSettingsContext);\n\n  useEffect(() => {\n    if (state.queryPersona !== '') {\n      let tmp = { value: state.queryPersona, label: state.queryPersona };\n      // setUserToken(state.queryPersona);\n      switchPersoToken(tmp);\n    }\n  }, [state.queryPersona]);\n\n  if (isSearchVisible) setShowCat(false);\n\n  return (\n    <div className='header'>\n      <InstantSearch indexName='eXtra' searchClient={searchClient}>\n        <div className='header-logo'>\n          <IconArmani />\n        </div>\n\n        <div style={{ position: 'relative' }} className='header-cats'>\n\n\n          <CustomHierarchicalMenu\n            attributes={[\n              'categorylvl1',\n            ]}\n            setShowCat={setShowCat}\n          />\n\n\n\n\n\n          <div\n            onClick={(e) => setIsSearchVisible(!isSearchVisible)}\n            className='header-search-icon'\n          >\n            <span className='searchIcon'></span>\n          </div>\n          <Select\n            options={options}\n            value={selectedOption}\n            onChange={switchPersoToken}\n            styles={customStyles}\n            width='250px'\n          />\n        </div>\n\n        {showCat ? (\n          //     <Index\n          //     indexName=\"eXtra\"\n          //     indexId=\"products\"\n          //   >\n          //     <HitsPerPage defaultRefinement={24} items={[]} />\n\n          //     <CustomHierarchicalResultsHits\n          //     />\n          // </Index>\n          <div className='search-results'>\n            <div\n              className='left-facets'\n              style={{ backgroundColor: 'rgb(241,241,241)' }}\n            >\n              <div className='search-header'>\n                <div className='header-item'>\n                  <span>\n                    <h3 style={{ color: 'black' }}>CATEGORY PAGE</h3>\n                  </span>\n                </div>\n               \n              </div>\n              <hr />\n\n\n              <div className='filter-container'>\n                \n               \n              </div>\n            </div>\n            <div className='right-results'>\n              <Index indexName='eXtra' indexId='products'>\n                <HitsPerPage defaultRefinement={18} items={[]} />\n                <CustomProductsHits />\n              </Index>\n              <Pagination id='pagination' />\n            </div>\n          </div>\n        ) : null}\n      </InstantSearch>\n    </div>\n  );\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}